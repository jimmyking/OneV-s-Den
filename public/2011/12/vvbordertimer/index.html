
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>VVBorderTimer - OneV's Den</title>
	<meta name="author" content="onevcat">

	
	<meta name="description" content="VVBorderTimer GitHub 链接: https://github.com/onevcat/VVBorderTimerView
是什么 VVBorderTimer是UIView的子类 它为UIView提供使用边界进行倒计时的效果 边框角落的半径和线宽在运行时可调 &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="OneV's Den" type="application/atom+xml">
	
	<link rel="canonical" href="http://onevcat.com/2011/12/vvbordertimer/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<script type="text/javascript">var switchTo5x=false;</script>
<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({publisher: "496dac80-40ba-487b-b557-af2d3629eb28", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>
</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		document.write("<img src='http://www.gravatar.com/avatar/" + MD5("onev@onevcat.com") + "?s=160' alt='Profile Picture' style='width: 160px;'");
	</script>
</div>
<h1><a href="/">OneV's Den</a></h1>
<p class="subtitle">上善若水，人淡如菊</p>
<p class="subtitle">iOS/Mac，Unity3D开发者，现就职于日本创意公司Kayac，正在修行，探求创意之源</p>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/aboutme/">关于我</a></li>
  <li><a href="/blog/archives">全部文章</a></li>
  <li><a href="/showcase">我的项目</a></li>
  <li><a href="http://pomo.onevcat.com">	Pomo Do - 番茄工作法工具</a></li>
  <li><a href="http://ourmoney.onevcat.com">	Our Money - 多人同步记账</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		<a class="weibo" href="http://www.weibo.com/onevcat" title="Sina Weibo">Weibo</a>
		
		
		<a class="facebook" href="http://www.facebook.com/onevcat" title="Facebook">Facebook</a>
		
		
		<a class="google" href="https://plus.google.com/107108267983477358170" rel="author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/onevcat" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/onevcat" title="GitHub">GitHub</a>
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
<a href="http://eepurl.com/wNSkj"><script type="text/javascript" language="JavaScript" src="http://onevcat.us5.list-manage.com/subscriber-count?b=32&u=3244d6df-04b2-4c3b-bfb2-06ac1dd40a00&id=cfde66e507"></script></a>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">VVBorderTimer</h1>
	<div class="entry-content" itemprop="articleBody"><p><!--:zh--><h2 style="text-align: justify;">GitHub 链接: <a href="https://github.com/onevcat/VVBorderTimer">https://github.com/onevcat/VVBorderTimerView</a></h2>
<h2 style="text-align: justify;">是什么</h2>
<ul style="text-align: justify;">
	<li><strong>VVBorderTimer</strong>是UIView的子类</li>
	<li>它为UIView提供使用边界进行倒计时的效果</li>
	<li>边框角落的半径和线宽在运行时可调</li>
	<li>倒计时是有颜色渐变效果<!--:--><!--:en--><h2 style="text-align: justify;">GitHub link: <a href="https://github.com/onevcat/VVBorderTimer">https://github.com/onevcat/VVBorderTimerView</a></h2>
<h2 style="text-align: justify;">What&#8217;s this</h2>
<ul style="text-align: justify;">
	<li><strong>VVBorderTimer</strong> is a subclass of UIView.</li>
	<li>It provides an counting down effect using the view&#8217;s border.</li>
	<li>The radius of round corners and line width are configurable in runtime.</li>
	<li>There is also a color transition effect during the counting.<!--:--><!--more--><!--:zh--></li>
</ul>
<h2 style="text-align: justify;">怎么用</h2>
<ol style="text-align: justify;">
	<li>将VVBorderTimerView.h和VVBorderTimerView.m导入您的工程。请根据您的情况选择使用ARC版本或非ARC版本</li>
	<li>分配并初始化一个VVBorderTimerView. 设置其背景颜色<br />
[crayon]<br />
VVBorderTimerView *btv = [[VVBorderTimerView alloc] initWithFrame:CGRectMake(20, 20, 280, 280)];<br />
//为计时器设置背景颜色<br />
btv.backgroundColor = [UIColor clearColor];[/crayon]</li>
	<li>配置计时器属性，如: 颜色(可选), 总时间和delegate.<br />
[crayon]<br />
//上边界为绿色<br />
UIColor *color0 = [UIColor greenColor];<br />
//右边黄色<br />
UIColor *color1 = [UIColor yellowColor];<br />
//下边橙色<br />
UIColor *color2 = [UIColor colorWithRed:1.0 green:140.0/255.0 blue:16.0/255.0 alpha:1.0];<br />
//左边红色<br />
UIColor *color3 = [UIColor redColor];</li></ol></li></ul></p>

<p>//为计时器指定颜色. 不同颜色将在转角处发生渐变.<br />
//如果您<strong>没有</strong>指定颜色，或者指定其为nil(btv.colors = nil)，所有边将默认使用黑色<br />
btv.colors = [NSArray arrayWithObjects:color0,color1,color2,color3,nil];</p>

<p>//为计时器设定总时间<br />
btv.totalTime = 10;</p>

<p>//为计时器设定delegate<br />
btv.delegate = self;<br />
[/crayon]
	<li>实现计时器的delegate<br />
[crayon]<br />
//转角半径(0 代表矩形)<br />
-(float) cornerRadius:(VVBorderTimerView *)requestor<br />
{
return 30;<br />
}</li></p>

<p>//计时器线宽<br />
-(float) lineWidth:(VVBorderTimerView *)requestor<br />
{
return 10;<br />
}</p>

<p>//当计时器停止时，该方法被调用<br />
-(void) timerViewDidFinishedTiming:(VVBorderTimerView *)aTimerView<br />
{
//do something<br />
}[/crayon]
	<li>将计时器加入您的viewController的view，并使用 -(void)start 开始计时<br />
[crayon]<br />
[self.view addSubview:btv];<br />
[btv start];<br />
[/crayon]</li>
	<li>如果您使用的是非ARC，请<strong>不要忘记</strong>在将计时器加入view结构后释放它。可能您需要保留一个指向该计时器的指针，以便在即使结束后将其移除</li>

在GitHub网站的<a href="https://github.com/onevcat/VVBorderTimer">这个页面</a>上有一个简单的demo供您参考，如果您感兴趣，可以关注或者分支该项目。祝您好运～
<h2>Lisence</h2>
VVBorderTimer is Copyright © 2011 Wei Wang(onevcat), All Rights Reserved, All Wrongs Revenged. Released under the <a href="http://www.opensource.org/licenses/bsd-license.php">New BSD Licence</a>.
<p style="text-align: justify;">* https://github.com/onevcat/VVBorderTimerView/</p>
<p style="text-align: justify;">BSD license follows (http://www.opensource.org/licenses/bsd-license.php)<br />
Copyright (c) 2011 Wei Wang(onevcat) All Rights Reserved.</p>
<p style="text-align: justify;">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p></p>

<p><ul>
	<li style="text-align: justify;">Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
	<li style="text-align: justify;">Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
</ul>
<p style="text-align: justify;">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBU -TORS &#8220;AS IS&#8221; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p><!--:--><!--:en-->

<h2 style="text-align: justify;">How to use</h2>
<ol style="text-align: justify;">
	<li>Import VVBorderTimerView.h and VVBorderTimerView.m to your project. Select either ARC version or non-ARC version for your situation.</li>
	<li>Alloc and init a VVBorderTimerView. Set its background color.<br />
[crayon]<br />
VVBorderTimerView *btv = [[VVBorderTimerView alloc] initWithFrame:CGRectMake(20, 20, 280, 280)];<br />
//Specify a background color for the timer<br />
btv.backgroundColor = [UIColor clearColor];<br />
[/crayon]</li>
	<li>Set the properties for the timer: colors(optional), totalTime and delegate.<br />
[crayon]<br />
//Top border will be green<br />
UIColor *color0 = [UIColor greenColor];<br />
//Right border yellow<br />
UIColor *color1 = [UIColor yellowColor];<br />
//Buttom border orange<br />
UIColor *color2 = [UIColor colorWithRed:1.0 green:140.0/255.0 blue:16.0/255.0 alpha:1.0];<br />
//Left border red<br />
UIColor *color3 = [UIColor redColor];</li></ol></p>

<p>//Set the colors for the timer. Color transition will be occured in the corner.<br />
//If your DID NOT specify the colors or specify it to nil(btv.colors = nil), default black color for all edge will be used.<br />
btv.colors = [NSArray arrayWithObjects:color0,color1,color2,color3,nil];</p>

<p>//Set the total time the timer should count in second<br />
btv.totalTime = 10;</p>

<p>//Set the delegate for the timer<br />
btv.delegate = self;<br />
[/crayon]
	<li>Implement the timer&#8217;s delegate<br />
[crayon]<br />
//Corner radius for a timer(0 means rectangle)<br />
-(float) cornerRadius:(VVBorderTimerView *)requestor<br />
{
    return 30;<br />
}</li></p>

<p>//Line width for a timer<br />
-(float) lineWidth:(VVBorderTimerView *)requestor<br />
{
    return 10;<br />
}</p>

<p>//When the timer stopped, this method will be called<br />
-(void) timerViewDidFinishedTiming:(VVBorderTimerView *)aTimerView<br />
{
    //do something<br />
}
[/crayon]
	<li>Add it to your viewController&#8217;s view and then start the timer using -(void)start<br />
[crayon]<br />
[self.view addSubview:btv];<br />
[btv start];<br />
[/crayon]</li>
	<li>DO NOT forget to release the timer after it is added to the view&#8217;s hierarchy if you use non-ARC. You may want to keey a pointer to the timer, so you can remove it from superview when it stops.</li>

You can also find a demo in the github page <a href="https://github.com/onevcat/VVBorderTimer">here</a>. You can watch and fork it if you are intrested in it. Enjoy!
<h2>Lisence</h2>
VVBorderTimer is Copyright © 2011 Wei Wang(onevcat), All Rights Reserved, All Wrongs Revenged. Released under the <a href="http://www.opensource.org/licenses/bsd-license.php">New BSD Licence</a>.
<p style="text-align: justify;">* https://github.com/onevcat/VVBorderTimerView/</p>
<p style="text-align: justify;">BSD license follows (http://www.opensource.org/licenses/bsd-license.php)<br />
Copyright (c) 2011 Wei Wang(onevcat) All Rights Reserved.</p>
<p style="text-align: justify;">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p></p>

<p><ul>
	<li style="text-align: justify;">Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
	<li style="text-align: justify;">Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
</ul>
<p style="text-align: justify;">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBU -TORS &#8220;AS IS&#8221; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p><!--:--></p>
</div>
	<!-- UJian Button BEGIN -->
	<div class="ujian-hook"></div>
	<script type="text/javascript">var ujian_config = {num:6,showType:3,lkrc:6};</script>
	<script type="text/javascript" src="http://v1.ujian.cc/code/ujian.js?uid=1549469"></script>
	<a href="http://www.ujian.cc" style="border:0;"><img src="http://img.ujian.cc/pixel.png" alt="友荐云推荐" style="border:0;padding:0;margin:0;" /></a>
	<!-- UJian Button END -->

</article>

	<div class="share">
	如果您觉得这篇文章对您有帮助，请不吝分享让更多人知道 :)
	<span class='st_sina_large' displayText='Sina'></span>
	<span class='st_facebook_large' displayText='Facebook'></span>
	<span class='st_twitter_large' displayText='Tweet'></span>
	<span class='st_email_large' displayText='Email'></span>
	<span class='st_sharethis_large' displayText='ShareThis'></span>
</div>



<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - <a href="http://about.me/onevcat">@onevcat</a>  
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'onevcat';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://onevcat.com/2011/12/vvbordertimer/';
        var disqus_url = 'http://onevcat.com/2011/12/vvbordertimer/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-25719337-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




		</div>
	</div>
</body>
</html>
